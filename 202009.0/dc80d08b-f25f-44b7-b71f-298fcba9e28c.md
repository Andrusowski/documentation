The Customer API allows to create customers and manage their account data. This includes the possibility to maintain a set of customer addresses as separate resources. In the checkout process, you can retrieve and use these address resources to speed up the buying process. The API supports authentication via OAuth 2.0 and password restoration.

In your development, these resources can help you to:

* Retrieve relevant customer information for any page where it is needed
* Enable customer registration
* Allow customer login and authentication
* Enrich customer profiles with additional data such as addresses

## Installation
For details on the modules that provide the API functionality and how to install them, see [Glue API: Customer Access Feature Integration](https://documentation.spryker.com/docs/glue-api-customer-account-management-feature-integration).

## Create a customer

To create a customer, send the request:

---
`POST` **/customers**

---

### Request

Request sample: `POST http://glue.mysprykershop.com/customers`

```json
{
  "data": {
    "type": "customers",
    "attributes": {
        "salutation": "Mrs",
        "firstName":"Sonia",
        "lastName":"Wagner",
        "email":"sonia@spryker.com",
        "password":"change123",
        "confirmPassword":"change123",
        "acceptedTerms":true
    }
  }
}
```

| Attribute | Type | Required | Description |
| --- | --- | --- | --- |
| acceptedTerms | Boolean | v | Specifies whether the customer has accepted the terms of service. For a new customer to be created, this parameter needs to be set to true. |
| confirmPassword | String | v | Specifies a password confirmation for the account of the new customer. |
| email | String | v | Specifies customer's last email address. The address must be unique in the system. |
| firstName | String | v | Specifies customer's first name. |
| lastName | String | v | Specifies customer's last name. |
| password | String | v | Specifies a password (7 characters or more) for the account of the new customer. This password will be used by the customer to access their account. |
| salutation | String | v | Specifies a salutation for a new customer. |



### Response



<details open>
    <summary>Response sample</summary>
    
```json
{
	"data": {
		"type": "customers",
		"id": "DE--25",
		"attributes": {
			"firstName": "Sonia",
			"lastName": "Wagner",
			"gender": null,
			"dateOfBirth": null,
			"salutation": "Mr",
			"createdAt": "2018-11-06 08:15:02.694668",
			"updatedAt": "2018-11-06 08:15:02.694668"
		},
		"links": {
			"self": "http://glue.mysprykershop.com/customers/DE--25"
		}
	}
}
```
    
</details>

| Attribute | Type | Description |
| --- | --- | --- |
| firstName | String | Customer's first name. |
| lastName | String | Customer's last name. |
| gender | String | Gender of the customer. |
| dateOfBirth | String | Customer's date of birth. |
| salutation | String | Salutation to use when addressing the customer. |
| createdAt | String | Account creation date. |
| updatedAt | String | Date of the last update. |



After creating a customer, they receive a verfication email. They click the verification link to confirm registration. After that, you can [authenticate as a customer](https://documentation.spryker.com/docs/authenticating-as-a-customer) to perform requests to the protected resources available to them.

## Retrieve customer information

To retrieve information about a customer, send the request:

---
`GET` **/customers/*{{customerReference}}***

---

| Path parameter | Description |
| --- | --- |
| ***{{customerReference}}*** | Unique identifier of the customer to get ifnormation for. This parameter is returned as the `id` attribute when [creating a customer](#create-a-customer).  |

### Request


| Header key | Header value | Required | Description |
| --- | --- | --- | --- |
| Authorization | string | v | An alphanumeric string that authorizes the customer to send requests to protected resources. Get it by [authenticating as a customer](https://documentation.spryker.com/authenticating-as-a-customer).  |

Request sample: `GET http://glue.mysprykershop.com/customers/DE-25`


### Response

<details open>
    <summary>Response sample</summary>
    
```json
{
		"data": {
			"type": "customers",
			"id": "DE--25",
			"attributes": {
				"firstName": "John",
				"lastName": "Doe",
				"gender": null,
				"dateOfBirth": null,
				"salutation": "Mr",
				"createdAt": "2018-11-06 08:15:02.694668",
				"updatedAt": "2018-11-06 08:15:02.694668"
			},
			"links": {
				"self": "http://glue.mysprykershop.com/customers/DE--25"
			}
		}
	}
```
    
</details>

| Attribute | Type | Description |
| --- | --- | --- |
| firstName | String | Customer's first name. |
| lastName | String | Customer's last name. |
| email | String | Customer's email address. |
| gender | String | Customer's gender. |
| dateOfBirth | String | Customer's date of birth. |
| salutation | String | Salutation to use when addressing the customer. |
| createdAt | String | Account creation date. |
| updatedAt | String | Date of the last update. |




## Edit a customer

To edit a customer account, send the request:

---
`PATCH` **/customers/*{{customerReference}}***

---

| Path parameter | Description |
| --- | --- |
| ***{{customerReference}}*** | Unique identifier of the customer to get ifnormation for. This parameter is returned as the `id` attribute when [creating a customer](#create-a-customer).  |


### Request

| Header key | Header value | Required | Description |
| --- | --- | --- | --- |
| Authorization | string | v | An alphanumeric string that authorizes the customer which you want to edit. Get it by [authenticating as a customer](https://documentation.spryker.com/authenticating-as-a-customer).  |

Request sample: `PATCH http://glue.mysprykershop.com/customers/DE-25`

```json
{
		"data" : {
			"type": "customers"
			"attributes": {
					"lastName": "Sonia",
					"email": "sonia@spryker.com",
				}
		}
	}
	
```

### Response

<details open>
    <summary>Response sample</summary>
    
```json
{
		"data": {
			"type": "customers",
			"id": "DE--25",
			"attributes": {
				"firstName": null,
				"lastName": "Johnson",
				"salutation": null,
				"email": "sonia@spryker.com"
			},
			"links": {
				"self": "http://mysprykershop.com/customers/DE--25"
			}
		}
	}
```
    
</details>

| Attribute | Type | Description |
| --- | --- | --- |
| firstName | String | Customer's first name. |
| lastName | String | Customer's last name. |
| email | String | Customer's email address. |
| gender | String | Customer's gender. |
| dateOfBirth | String | Customer's date of birth. |
| salutation | String | Salutation to use when addressing the customer. |
| createdAt | String | Account creation date. |
| updatedAt | String | Date of the last update. |


## Anonymize a customer

To anonymize a customer, send the request: 

---
`DELETE` **/customers/*{{customerReference}}***

---

### Request

| Header key | Header value | Required | Description |
| --- | --- | --- | --- |
| Authorization | string | v | An alphanumeric string that authorizes the customer which you want to anonymize. Get it by [authenticating as a customer](https://documentation.spryker.com/authenticating-as-a-customer).  |

Sample request: `DELETE http://mysprykershop.com/customers/DE-25`

### Response

If the customer is anonymized successfully, the endpoint returns the `204 No Content` status code.

## Possible Errors

| Code | Reason |
| --- | --- |
| 400 | A customer with the same email address already exists |
| 402 | A customer with the specified ID was not found |
| 405 | Customer reference is missing |
| 410 | Failed to save changes |
| 414 | The provided gender is invalid |
| 422 | Terms of service were not accepted |
 
## Next Steps


* [Authenticate as a customer](https://documentation.spryker.com/docs/customer-password)
* [Manage customer addresses](https://documentation.spryker.com/docs/customer-addresses)
* [Manage customer authentication tokens](https://documentation.spryker.com/docs/customer-addresses)
* [Manage customer passwords](https://documentation.spryker.com/docs/customer-password)


